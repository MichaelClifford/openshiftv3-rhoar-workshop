## Install RHOAR Launch Pad on your CDK

In this lab, we will install LaunchPad for RHOAR. We will use Fabric8 Launcher that is described [here](https://appdev.openshift.io/docs/minishift-installation.html#introduction-to-the-launcher-application).

We will use a minishift addon to create this launcher.

### Prerequisites
1. CDK is installed on your workstation
2. You need a GitHub Account. If you don't have please create one at


### Start CDK
Start CDK based on what you learnt in the last lab
Open a terminal to run commands using CLI.

### Import Images for Fabric8 Launcher

We are doing this step so that minishift doesn't try to download images using internet (which could be slow during the workshop). This will save some time for us.

List the images available to minishift by running `minishift images list`. You will see the following. You copied them into cache earlier

``` 
$ minishift images list
docker.io/fabric8/configmapcontroller:2.3.7
docker.io/fabric8/launcher-backend:latest
docker.io/fabric8/launcher-frontend:latest
registry.access.redhat.com/openshift3/ose-deployer:v3.9.14
registry.access.redhat.com/openshift3/ose-docker-registry:v3.9.14
registry.access.redhat.com/openshift3/ose-haproxy-router:v3.9.14
registry.access.redhat.com/openshift3/ose-pod:v3.9.14
registry.access.redhat.com/openshift3/ose-web-console:v3.9.14
registry.access.redhat.com/openshift3/ose:v3.9.14
```

Now list the images available inside the minishift VM by running ` minishift images list --vm`. You will see that certain images are not pulled into minishift vm.

```
$ minishift images list --vm
registry.access.redhat.com/openshift3/ose-deployer:v3.9.14
registry.access.redhat.com/openshift3/ose-docker-registry:v3.9.14
registry.access.redhat.com/openshift3/ose-haproxy-router:v3.9.14
registry.access.redhat.com/openshift3/ose-pod:v3.9.14
registry.access.redhat.com/openshift3/ose-web-console:v3.9.14
registry.access.redhat.com/openshift3/ose:v3.9.14
```

Let us import them now with the following command

```
minishift images import \
 docker.io/fabric8/configmapcontroller:2.3.7 \
 docker.io/fabric8/launcher-backend:latest \
 docker.io/fabric8/launcher-frontend:latest
```

Observe the following output
```
   Importing 'docker.io/fabric8/configmapcontroller:2.3.7' . OK
   Importing 'docker.io/fabric8/launcher-backend:latest' ........ OK
   Importing 'docker.io/fabric8/launcher-frontend:latest' ..... OK
```

Now list the images in the vm again

```
$ minishift images list --vm
docker.io/fabric8/configmapcontroller:2.3.7
docker.io/fabric8/launcher-backend:latest
docker.io/fabric8/launcher-frontend:latest
registry.access.redhat.com/openshift3/ose-deployer:v3.9.14
registry.access.redhat.com/openshift3/ose-docker-registry:v3.9.14
registry.access.redhat.com/openshift3/ose-haproxy-router:v3.9.14
registry.access.redhat.com/openshift3/ose-pod:v3.9.14
registry.access.redhat.com/openshift3/ose-web-console:v3.9.14
registry.access.redhat.com/openshift3/ose:v3.9.14
```

Now we are good with all images.

### Install Fabric8 Launcher Addon

Navigate to the folder where you copied the flash drive contents. Then change into `addons` folder. Run the following command to install Fabric8 Launcher

```
$ minishift addon install ./fabric8-launcher
```

You should get a response

```
Addon 'fabric8-launcher' installed
```

### Generate GitHub Token

* As mentioned in the pre-requisites, you'll need a github account. 
* Navigate to [https://github.com/settings/tokens](https://github.com/settings/tokens)
* Select Generate new token
* Add a token description, for example Fabric8 Launcher tool on a Single-node OpenShift Cluster.
* Select the check boxes of the following parent scopes and all their children:
	* public_repo
	* read:org
	* admin:repo_hook
* Click `Generate Token`
* Save the hex code of the personal access token.



### Deploy the Launcher

To deploy the launcher you need supply your github username and github token you noted in the previous step. Run the following command substituting the values.

```
$ minishift addons apply fabric8-launcher \
   --addon-env GITHUB_USERNAME=<yourgithubusername> \
   --addon-env GITHUB_TOKEN=<yourtoken>
```

You'll see a response like below

```
-- Applying addon 'fabric8-launcher':....
```

This creates a project with name `rhoarpad` and spins up the launcher in that project. 

Navigate to the project in the web console and you'll see the following in a couple of minutes.

![](./images/1.Launcher.jpeg)


### Start Launcher

Click on the Launcher URL in the browser and you should see a screen like below.
![](./images/2.Launcher.jpeg)

Congratulations!!! You have deployed RHOAR Launcher.







